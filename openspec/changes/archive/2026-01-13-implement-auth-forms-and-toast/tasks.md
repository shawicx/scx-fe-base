# 任务列表

## 阶段 1：Toast 组件开发

### 1.1 创建 Toast 类型定义

- [x] 创建 `src/components/toast/types.ts`
- [x] 定义 `ToastType` 类型（success、error、warning、info）
- [x] 定义 `ToastProps` 接口
- [x] 定义 `ToastOptions` 接口

### 1.2 实现 Toast 组件

- [x] 创建 `src/components/toast/Toast.tsx`
- [x] 实现 toast 项 UI（使用 UnoCSS）
- [x] 实现四种类型的样式（颜色边框、图标）
- [x] 添加关闭按钮和描述文字支持
- [x] 添加进入/退出动画类

### 1.3 实现 ToastContainer 组件

- [x] 创建 `src/components/toast/ToastContainer.tsx`
- [x] 实现 React Portal 渲染到 document.body
- [x] 维护 toast 队列状态
- [x] 实现添加 toast 函数
- [x] 实现移除 toast 函数
- [x] 实现自动过期逻辑（默认 3 秒）

### 1.4 实现 Toast 导出函数

- [x] 创建 `src/components/toast/index.ts`
- [x] 实现默认导出的 `toast` 函数
- [x] 实现便捷方法 `toast.success`
- [x] 实现便捷方法 `toast.error`
- [x] 实现便捷方法 `toast.warning`
- [x] 实现便捷方法 `toast.info`

### 1.5 在 App.tsx 中集成 ToastContainer

- [x] 在 `src/App.tsx` 中导入 `ToastContainer`
- [x] 在组件树中添加 `<ToastContainer />`
- [x] 验证 toast 可以正常显示

## 阶段 2：集成 Toast 到 request.ts

### 2.1 更新 request.ts

- [x] 在 `src/service/request.ts` 中导入 toast 组件
- [x] 更新 `showMessage` 函数使用 toast
- [x] 验证错误消息显示

## 阶段 3：通用表单组件（可选）

### 3.1 创建表单输入组件

- [x] 创建 `src/components/form/Input.tsx`（可选）
- [x] 创建 `src/components/form/Textarea.tsx`（可选）
- [x] 创建 `src/components/form/Button.tsx`（可选）
- [x] 创建 `src/components/form/ErrorMessage.tsx`（可选）
  > **跳过**：选择直接在表单中实现内联样式

## 阶段 4：登录表单开发

### 4.1 实现登录表单结构

- [x] 更新 `src/routes/login.tsx`
- [x] 实现主容器布局（居中卡片）
- [x] 添加标题 "登录"
- [x] 实现标签页切换（密码登录 / 验证码登录）

### 4.2 实现密码登录表单

- [x] 添加邮箱输入框
- [x] 添加密码输入框
- [x] 添加"记住我"复选框
- [x] 添加"忘记密码"链接
- [x] 添加登录按钮
- [x] 集成 `useAuth.login` 方法
- [x] 添加表单验证（使用 Zod schema）
- [x] 添加错误处理和 Toast 提示

### 4.3 实现验证码登录表单

- [x] 添加邮箱输入框
- [x] 添加验证码输入框（带发送按钮）
- [x] 实现验证码发送功能（`useAuth.sendVerificationCode`）
- [x] 实现倒计时逻辑（60 秒）
- [x] 添加登录按钮
- [x] 集成 `useAuth.loginWithCode` 方法
- [x] 添加表单验证
- [x] 添加错误处理和 Toast 提示

### 4.4 添加注册链接

- [x] 添加"还没有账号？立即注册"链接
- [x] 链接到 `/register`

## 阶段 5：注册表单开发

### 5.1 实现注册表单结构

- [x] 更新 `src/routes/register.tsx`
- [x] 实现主容器布局（居中卡片）
- [x] 添加标题 "注册"

### 5.2 实现表单字段

- [x] 添加邮箱输入框
- [x] 添加验证码输入框（带发送按钮）
- [x] 实现验证码发送功能
- [x] 实现倒计时逻辑（60 秒）
- [x] 添加密码输入框
- [x] 添加确认密码输入框
- [x] 添加注册按钮
- [x] 集成 `useAuth.register` 方法
- [x] 添加表单验证（使用 Zod schema）
- [x] 添加错误处理和 Toast 提示

### 5.3 添加登录链接

- [x] 添加"已有账号？立即登录"链接
- [x] 链接到 `/login`

## 阶段 6：忘记密码表单开发

### 6.1 实现忘记密码表单结构

- [x] 更新 `src/routes/reset-password.tsx`
- [x] 实现主容器布局（居中卡片）
- [x] 添加标题 "重置密码"

### 6.2 实现表单字段

- [x] 添加邮箱输入框
- [x] 添加验证码输入框（带发送按钮）
- [x] 实现模拟的验证码发送功能（不调用 API）
- [x] 实现倒计时逻辑（60 秒）
- [x] 添加新密码输入框
- [x] 添加确认密码输入框
- [x] 添加提交按钮
- [x] 添加表单验证（使用 Zod schema）
- [x] 添加模拟提交逻辑（不调用 API）
- [x] 添加成功 Toast 提示

### 6.3 添加返回登录链接

- [x] 添加"返回登录"链接
- [x] 链接到 `/login`

## 阶段 7：PC 端样式优化

### 7.1 优化表单尺寸和布局

- [x] 将表单宽度从 `max-w-md`（448px）增加到 `max-w-lg`（512px）
- [x] 添加 `px-4` 外边距，确保在小屏幕上不贴边
- [x] 标题字体从 `text-2xl` 增加到 `text-3xl`
- [x] 表单间距从 `space-y-4` 增加到 `space-y-6`

### 7.2 优化输入框和按钮

- [x] 输入框高度从 `py-2` 增加到 `py-3`
- [x] 输入框和按钮字体从默认增加到 `text-base`
- [x] 标签字体从 `text-sm` 增加到 `text-base`
- [x] 按钮高度从 `py-2` 增加到 `py-3`
- [x] 按钮和输入框之间的间距从 `gap-2` 增加到 `gap-3`
- [x] Tab 按钮高度从 `pb-3` 增加到 `pb-4`，字体从默认增加到 `text-base`

### 7.3 应用到所有表单

- [x] 更新登录表单（密码登录和验证码登录）
- [x] 更新注册表单
- [x] 更新忘记密码表单

### 7.4 代码质量检查

- [x] 运行 `npx oxlint` 检查代码规范
- [x] 运行 `npm run format` 格式化代码

## 阶段 8：验证和测试

### 8.1 代码质量检查

- [x] 运行 `npm run typecheck` 检查类型
- [x] 运行 `npx oxlint` 检查代码规范
- [x] 运行 `npm run format` 格式化代码

### 8.2 功能验证

- [ ] 测试登录表单（密码登录）
- [ ] 测试登录表单（验证码登录）
- [ ] 测试注册表单
- [ ] 测试忘记密码表单（静态）
- [ ] 测试 Toast 组件各种消息类型
- [ ] 测试表单验证错误提示
- [ ] 测试 API 错误 Toast 提示

### 8.3 UI/UX 检查

- [ ] 检查所有表单的 PC 端布局
- [ ] 检查 Toast 动画效果
- [ ] 检查表单样式一致性
- [ ] 检查链接导航正确性
- [ ] 检查输入框和按钮尺寸是否适合 PC 端
- [ ] 检查表单宽度是否合适（512px）
- [ ] 检查字体大小是否适合 PC 端阅读

## 依赖关系

- **阶段 1 和 2 可以并行**：Toast 组件开发和 request.ts 集成可以同时进行
- **阶段 3 是可选的**：如果没有创建通用表单组件，可以直接在表单中写内联样式
- **阶段 4、5、6 可以并行**：三个表单的开发相对独立
- **阶段 7 必须在阶段 4-6 之后执行**：PC 端优化需要基于已完成的表单
- **阶段 8 必须最后执行**：验证阶段需要在所有功能完成后进行

## 预估时间

- 阶段 1：2-3 小时
- 阶段 2：0.5 小时
- 阶段 3：1-2 小时（可选）
- 阶段 4：2-3 小时
- 阶段 5：1.5-2 小时
- 阶段 6：1-2 小时
- 阶段 7：0.5 小时（PC 端优化）
- 阶段 8：1 小时

**总计**：约 9-14 小时（不包含通用表单组件）

- [ ] 检查所有表单的响应式布局
- [ ] 检查 Toast 动画效果
- [ ] 检查表单样式一致性
- [ ] 检查链接导航正确性
  > **待手动测试**：需要启动开发服务器进行实际测试

## 依赖关系

- **阶段 1 和 2 可以并行**：Toast 组件开发和 request.ts 集成可以同时进行
- **阶段 3 是可选的**：如果没有创建通用表单组件，可以直接在表单中写内联样式
- **阶段 4、5、6 可以并行**：三个表单的开发相对独立
- **阶段 7 必须最后执行**：验证阶段需要在所有功能完成后进行

## 预估时间

- 阶段 1：2-3 小时
- 阶段 2：0.5 小时
- 阶段 3：1-2 小时（可选）
- 阶段 4：2-3 小时
- 阶段 5：1.5-2 小时
- 阶段 6：1-2 小时
- 阶段 7：1 小时

**总计**：约 9-13.5 小时（不包含通用表单组件）
